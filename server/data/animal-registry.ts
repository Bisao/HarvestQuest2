
import type { AnimalRegistryEntry } from "@shared/types/animal-registry-types";
import { RESOURCE_IDS } from "@shared/constants/game-ids";

export const ANIMAL_REGISTRY: AnimalRegistryEntry[] = [
  // === MAM√çFEROS PEQUENOS ===
  {
    id: "animal-rabbit-001",
    species: "Oryctolagus cuniculus",
    commonName: "Coelho",
    scientificName: "Oryctolagus cuniculus",
    emoji: "üê∞",
    category: "mammal_small",
    habitat: ["floresta", "campo", "plan√≠cie"],
    rarity: "common",
    male: {
      name: "Coelho Macho",
      emoji: "üê∞",
      characteristics: [
        "Geralmente maior que a f√™mea",
        "Cabe√ßa mais larga e robusta",
        "Comportamento mais territorial"
      ],
      physicalTraits: {
        size: "25-35cm",
        weight: "1.2-1.8kg",
        distinctiveFeatures: [
          "Orelhas ligeiramente maiores",
          "Corpo mais musculoso",
          "Patas traseiras mais desenvolvidas"
        ]
      },
      behavior: [
        "Marca territ√≥rio com gl√¢ndulas de cheiro",
        "Mais ativo durante o crep√∫sculo",
        "Comportamento protetor durante acasalamento"
      ],
      reproductiveInfo: "Atinge maturidade sexual aos 4-6 meses"
    },
    female: {
      name: "Coelha",
      emoji: "üêá",
      characteristics: [
        "Corpo mais esguio",
        "Comportamento mais cauteloso",
        "Excelente m√£e cuidadora"
      ],
      physicalTraits: {
        size: "23-30cm",
        weight: "1.0-1.5kg",
        distinctiveFeatures: [
          "Orelhas proporcionalmente menores",
          "Corpo mais alongado",
          "Pelagem mais densa"
        ]
      },
      behavior: [
        "Constr√≥i ninhos elaborados",
        "Extremamente protetora dos filhotes",
        "Comportamento de grupo mais desenvolvido"
      ],
      reproductiveInfo: "Gesta√ß√£o de 28-32 dias, 4-8 filhotes por ninhada"
    },
    generalInfo: {
      diet: "Herb√≠voro - ervas, folhas, casca de √°rvore",
      lifespan: "8-12 anos na natureza",
      size: "Pequeno porte",
      weight: "1-2kg",
      behavior: ["Crepuscular", "Escavador", "Social"],
      funFacts: [
        "Podem correr at√© 50 km/h",
        "Seus dentes nunca param de crescer",
        "Enxergam quase 360 graus",
        "Podem saltar at√© 1 metro de altura"
      ]
    },
    discoveryMethod: "hunting",
    requiredLevel: 1,
    discoveryLocation: ["floresta", "campo_aberto"]
  },

  {
    id: "animal-deer-001",
    species: "Cervus elaphus",
    commonName: "Veado",
    scientificName: "Cervus elaphus",
    emoji: "ü¶å",
    category: "mammal_medium",
    habitat: ["floresta", "montanha", "vale"],
    rarity: "uncommon",
    male: {
      name: "Cervo",
      emoji: "ü¶å",
      characteristics: [
        "Possui grandes chifres ramificados",
        "Significativamente maior que a f√™mea",
        "Comportamento dominante durante √©poca de acasalamento"
      ],
      physicalTraits: {
        size: "120-150cm",
        weight: "90-120kg",
        distinctiveFeatures: [
          "Chifres (galhadas) que renovam anualmente",
          "Pesco√ßo mais grosso e musculoso",
          "Pelagem mais escura no pesco√ßo"
        ]
      },
      behavior: [
        "Brami alto durante √©poca de acasalamento",
        "Luta com outros machos por territ√≥rio",
        "L√≠der de pequenos grupos familiares"
      ],
      reproductiveInfo: "√âpoca de acasalamento no outono, compete por har√©m de f√™meas"
    },
    female: {
      name: "Cerva",
      emoji: "ü¶å",
      characteristics: [
        "Sem chifres, mais √°gil",
        "Comportamento maternal forte",
        "Vive em grupos maiores"
      ],
      physicalTraits: {
        size: "100-130cm",
        weight: "60-85kg",
        distinctiveFeatures: [
          "Aus√™ncia de chifres",
          "Corpo mais esguio",
          "Cabe√ßa menor e mais delicada"
        ]
      },
      behavior: [
        "Forma grupos com outras f√™meas",
        "Extremamente protetiva dos filhotes",
        "Ensina t√©cnicas de sobreviv√™ncia aos jovens"
      ],
      reproductiveInfo: "Gesta√ß√£o de 8 meses, normalmente 1 filhote (raramente 2)"
    },
    generalInfo: {
      diet: "Herb√≠voro - folhas, brotos, frutas, l√≠quens",
      lifespan: "15-20 anos na natureza",
      size: "M√©dio a grande porte",
      weight: "60-120kg",
      behavior: ["Crepuscular", "Migrat√≥rio", "Social"],
      funFacts: [
        "Chifres dos machos podem pesar at√© 15kg",
        "Podem correr at√© 70 km/h",
        "Excelentes nadadores",
        "Saltam obst√°culos de at√© 3 metros"
      ]
    },
    discoveryMethod: "hunting",
    requiredLevel: 5,
    discoveryLocation: ["floresta_densa", "montanha"]
  },

  {
    id: "animal-boar-001",
    species: "Sus scrofa",
    commonName: "Javali",
    scientificName: "Sus scrofa",
    emoji: "üêó",
    category: "mammal_medium",
    habitat: ["floresta", "p√¢ntano", "colina"],
    rarity: "rare",
    male: {
      name: "Javali Macho",
      emoji: "üêó",
      characteristics: [
        "Presas desenvolvidas e afiadas",
        "Comportamento extremamente agressivo",
        "Solit√°rio fora da √©poca reprodutiva"
      ],
      physicalTraits: {
        size: "150-180cm",
        weight: "80-120kg",
        distinctiveFeatures: [
          "Presas curvadas para cima",
          "Crina eri√ßada no pesco√ßo",
          "M√∫sculos do pesco√ßo muito desenvolvidos"
        ]
      },
      behavior: [
        "Marca territ√≥rio com lama e urina",
        "Ataca quando se sente amea√ßado",
        "Escava em busca de ra√≠zes e tub√©rculos"
      ],
      reproductiveInfo: "Compete violentamente por acesso √†s f√™meas"
    },
    female: {
      name: "Javali F√™mea",
      emoji: "üê∑",
      characteristics: [
        "Presas menores",
        "Vive em grupos com filhotes",
        "Comportamento maternal intenso"
      ],
      physicalTraits: {
        size: "130-160cm",
        weight: "60-90kg",
        distinctiveFeatures: [
          "Presas menos proeminentes",
          "Corpo mais alongado",
          "Crina menos desenvolvida"
        ]
      },
      behavior: [
        "Forma grupos familiares",
        "Ensina filhotes a procurar comida",
        "Defende grupo com ferocidade"
      ],
      reproductiveInfo: "Gesta√ß√£o de 4 meses, 4-8 filhotes por ninhada"
    },
    generalInfo: {
      diet: "On√≠voro - ra√≠zes, frutas, insetos, pequenos animais",
      lifespan: "10-15 anos na natureza",
      size: "Grande porte",
      weight: "60-120kg",
      behavior: ["Noturno", "Territorial", "Agressivo"],
      funFacts: [
        "Podem cavar buracos de at√© 1 metro",
        "Excelente olfato, 2000x melhor que humanos",
        "Podem correr at√© 48 km/h",
        "Intelig√™ncia compar√°vel √† de c√£es"
      ]
    },
    discoveryMethod: "hunting",
    requiredLevel: 10,
    discoveryLocation: ["floresta_densa", "pantano"]
  },

  // === PEIXES ===
  {
    id: "animal-smallfish-001",
    species: "Leuciscus leuciscus",
    commonName: "Peixe Pequeno",
    emoji: "üêü",
    category: "fish_freshwater",
    habitat: ["rio", "lago", "riacho"],
    rarity: "common",
    male: {
      name: "Peixe Pequeno Macho",
      characteristics: [
        "Cores mais vibrantes durante reprodu√ß√£o",
        "Comportamento mais territorial",
        "Nadadeiras ligeiramente maiores"
      ],
      physicalTraits: {
        size: "8-12cm",
        weight: "15-30g",
        distinctiveFeatures: [
          "Cores mais intensas na √©poca reprodutiva",
          "Barbatanas dorsais mais pontiagudas",
          "Corpo ligeiramente mais robusto"
        ]
      },
      behavior: [
        "Defende territ√≥rio de desova",
        "Corteja f√™meas com exibi√ß√µes",
        "Constr√≥i ninhos no substrato"
      ],
      reproductiveInfo: "Prepara local de desova e protege ovos"
    },
    female: {
      name: "Peixe Pequeno F√™mea",
      characteristics: [
        "Abd√¥men mais arredondado",
        "Comportamento menos agressivo",
        "Maior durante √©poca reprodutiva"
      ],
      physicalTraits: {
        size: "10-14cm",
        weight: "20-40g",
        distinctiveFeatures: [
          "Abd√¥men vis√≠vel quando com ovos",
          "Cores mais suaves",
          "Barbatanas mais arredondadas"
        ]
      },
      behavior: [
        "Forma cardumes durante migra√ß√£o",
        "Seleciona locais ideais para desova",
        "Comportamento mais cauteloso"
      ],
      reproductiveInfo: "Deposita 200-500 ovos em locais protegidos"
    },
    generalInfo: {
      diet: "On√≠voro - pl√¢ncton, insetos, plantas aqu√°ticas",
      lifespan: "3-5 anos",
      size: "Pequeno",
      weight: "15-40g",
      behavior: ["Cardume", "Migrat√≥rio", "Diurno"],
      funFacts: [
        "Podem detectar vibra√ß√µes na √°gua",
        "Mudam de cor conforme humor",
        "Navegam usando campos magn√©ticos",
        "Alguns podem viver em √°gua salobra"
      ]
    },
    discoveryMethod: "fishing",
    requiredLevel: 1,
    discoveryLocation: ["rio_calmo", "lago"]
  },

  {
    id: "animal-largefish-001",
    species: "Esox lucius",
    commonName: "Peixe Grande",
    emoji: "üê†",
    category: "fish_freshwater",
    habitat: ["lago", "rio_grande"],
    rarity: "uncommon",
    male: {
      name: "Peixe Grande Macho",
      characteristics: [
        "Corpo mais alongado",
        "Comportamento mais agressivo",
        "Ca√ßa solit√°ria"
      ],
      physicalTraits: {
        size: "40-60cm",
        weight: "800-1500g",
        distinctiveFeatures: [
          "Cabe√ßa proporcionalmente maior",
          "Dentes mais proeminentes",
          "Nadadeiras mais desenvolvidas"
        ]
      },
      behavior: [
        "Ca√ßador emboscada",
        "Territorial durante reprodu√ß√£o",
        "Comportamento solit√°rio"
      ],
      reproductiveInfo: "N√£o cuida dos ovos ap√≥s fertiliza√ß√£o"
    },
    female: {
      name: "Peixe Grande F√™mea",
      characteristics: [
        "Maior que o macho",
        "Abd√¥men mais pronunciado",
        "Comportamento maternal b√°sico"
      ],
      physicalTraits: {
        size: "50-70cm",
        weight: "1200-2000g",
        distinctiveFeatures: [
          "Corpo mais robusto",
          "Abd√¥men expandido durante desova",
          "Escamas ligeiramente maiores"
        ]
      },
      behavior: [
        "Seleciona locais de desova cuidadosamente",
        "Mais cautelosa que o macho",
        "Comportamento protetor temporal"
      ],
      reproductiveInfo: "Deposita at√© 10.000 ovos em vegeta√ß√£o aqu√°tica"
    },
    generalInfo: {
      diet: "Carn√≠voro - peixes menores, crust√°ceos, insetos aqu√°ticos",
      lifespan: "8-12 anos",
      size: "M√©dio",
      weight: "800-2000g",
      behavior: ["Predador", "Solit√°rio", "Emboscada"],
      funFacts: [
        "Podem acelerar a 30 km/h instantaneamente",
        "Dentes renovam-se constantemente",
        "Detectam movimento a 20 metros",
        "Podem ficar im√≥veis por horas esperando presa"
      ]
    },
    discoveryMethod: "fishing",
    requiredLevel: 5,
    discoveryLocation: ["lago_profundo", "rio_grande"]
  },

  {
    id: "animal-salmon-001",
    species: "Salmo salar",
    commonName: "Salm√£o",
    emoji: "üç£",
    category: "fish_freshwater",
    habitat: ["rio", "oceano"],
    rarity: "rare",
    male: {
      name: "Salm√£o Macho",
      characteristics: [
        "Desenvolve garra na mand√≠bula",
        "Cores intensas durante migra√ß√£o",
        "Comportamento extremamente territorial"
      ],
      physicalTraits: {
        size: "60-80cm",
        weight: "2-4kg",
        distinctiveFeatures: [
          "Kype (garra) curvada na mand√≠bula",
          "Cores vermelhas brilhantes",
          "Corpo mais musculoso"
        ]
      },
      behavior: [
        "Luta violentamente por territ√≥rio",
        "Migra milhares de quil√¥metros",
        "Constr√≥i e defende ninhos"
      ],
      reproductiveInfo: "Morre ap√≥s reprodu√ß√£o, dedicando toda energia ao processo"
    },
    female: {
      name: "Salm√£o F√™mea",
      characteristics: [
        "Corpo mais arredondado",
        "Comportamento de escava√ß√£o",
        "Cores menos intensas"
      ],
      physicalTraits: {
        size: "55-75cm",
        weight: "2.5-4.5kg",
        distinctiveFeatures: [
          "Abd√¥men expandido com ovos",
          "Sem desenvolvimento de kype",
          "Cores mais sutis"
        ]
      },
      behavior: [
        "Escava ninhos no cascalho",
        "Seleciona locais com fluxo ideal",
        "Protege ovos at√© a morte"
      ],
      reproductiveInfo: "Deposita 2000-5000 ovos em depress√µes escavadas"
    },
    generalInfo: {
      diet: "Carn√≠voro - crust√°ceos, peixes pequenos, krill",
      lifespan: "4-6 anos",
      size: "Grande",
      weight: "2-5kg",
      behavior: ["Migrat√≥rio", "An√°dromo", "Sacrificial"],
      funFacts: [
        "Navegam por cheiro para voltar ao local de nascimento",
        "Podem saltar cachoeiras de 3 metros",
        "Mudam completamente de cor durante migra√ß√£o",
        "Percorrem at√© 3000km em migra√ß√£o"
      ]
    },
    discoveryMethod: "fishing",
    requiredLevel: 15,
    discoveryLocation: ["rio_montanha", "cachoeira"]
  }
];

// Helper functions for animal registry
export function getAnimalsByCategory(category: string): AnimalRegistryEntry[] {
  return ANIMAL_REGISTRY.filter(animal => animal.category === category);
}

export function getAnimalByResourceId(resourceId: string): AnimalRegistryEntry | undefined {
  const resourceToAnimalMap: Record<string, string> = {
    [RESOURCE_IDS.COELHO]: "animal-rabbit-001",
    [RESOURCE_IDS.VEADO]: "animal-deer-001", 
    [RESOURCE_IDS.JAVALI]: "animal-boar-001",
    [RESOURCE_IDS.PEIXE_PEQUENO]: "animal-smallfish-001",
    [RESOURCE_IDS.PEIXE_GRANDE]: "animal-largefish-001",
    [RESOURCE_IDS.SALMAO]: "animal-salmon-001"
  };
  
  const animalId = resourceToAnimalMap[resourceId];
  return ANIMAL_REGISTRY.find(animal => animal.id === animalId);
}

// Animal categories for filtering and organization
export const ANIMAL_CATEGORIES = [
  'mammal_small',
  'mammal_medium', 
  'mammal_large',
  'bird',
  'fish_freshwater',
  'fish_saltwater',
  'reptile',
  'amphibian',
  'insect',
  'arthropod',
  'mythical'
] as const;

export function getDiscoverableAnimals(playerLevel: number): AnimalRegistryEntry[] {
  return ANIMAL_REGISTRY.filter(animal => animal.requiredLevel <= playerLevel);
}
